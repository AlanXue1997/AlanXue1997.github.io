<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Swift初次尝试</title><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@XueZhonghao" /><meta name="twitter:title" content="Swift初次尝试" /><meta name="twitter:description" content=""><meta name="description" content=""><meta name="google-site-verification" content="epFgX0s_0RM3CdjwFcsewfXzPov2g8s9ZBOLyaIUH-o"><link rel="shortcut icon" href="/assets/totora.png"> <!--<link rel="icon" href="/assets/totora.png">--><link rel="apple-touch-icon" href="/assets/touch-icon.png"><link rel="stylesheet" href="//code.cdn.mozilla.net/fonts/fira.css"><link rel="stylesheet" href="/assets/core.css"><link rel="stylesheet" href="/assets/prism.css"><link rel="canonical" href="/notes/swift1"><link rel="alternate" type="application/atom+xml" title="AlanXue's blog" href="/feed.xml" /> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-79196511-1', 'auto'); ga('send', 'pageview'); </script></head><body><aside class="logo"> <a href="/"> <img src="/assets/Totora2.png"> </a> <span class="logo-prompt">Back to Home</span></aside><!--src="http://www.gravatar.com/avatar/742cf6353760888dd24b7f22843cca55.png?s=80" class="gravatar" --><main> <noscript><style> article .footnotes { display: block; }</style></noscript><article><div class="center"><h1>Swift初次尝试</h1><time>September 8, 2016</time></div><div class="divider"></div><script src="/assets/prism.js"></script><p>最近开始学习IOS开发，先看了看Swift的一些基础知识，写了一个计算汉诺塔的小程序。还是经典的递归算法，算是递归的入门程序了。</p><div class="highlighter-rouge"><pre class="highlight"><code><span class="k">let</span> <span class="nv">N</span> <span class="o">=</span> <span class="mi">3</span>

<span class="k">var</span> <span class="nv">x</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">var</span> <span class="nv">A</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">var</span> <span class="nv">B</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">var</span> <span class="nv">C</span><span class="p">:</span> <span class="p">[</span><span class="kt">Int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">...</span><span class="kt">N</span><span class="p">{</span>
    <span class="kt">A</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="kt">B</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="kt">C</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">}</span>

<span class="kt">A</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="kt">B</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="kt">C</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="kd">func</span> <span class="nf">show</span><span class="p">(){</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"[</span><span class="se">\(</span><span class="n">x</span><span class="o">++</span><span class="se">)</span><span class="s">]"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">0</span><span class="o">...</span><span class="kt">N</span><span class="o">-</span><span class="mi">1</span><span class="p">{</span>
        <span class="k">for</span> <span class="n">k</span> <span class="k">in</span> <span class="p">[</span><span class="kt">A</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="kt">B</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="kt">C</span><span class="p">[</span><span class="n">i</span><span class="p">]]{</span>
            <span class="k">for</span> <span class="k">var</span> <span class="nv">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;=</span><span class="kt">N</span><span class="o">-</span><span class="n">k</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">{</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="k">var</span> <span class="nv">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;=</span><span class="n">k</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">{</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"-"</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="mi">0</span><span class="p">{</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"|"</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">else</span><span class="p">{</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"+"</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="k">var</span> <span class="nv">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;=</span><span class="n">k</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">{</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"-"</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="k">var</span> <span class="nv">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;=</span><span class="kt">N</span><span class="o">-</span><span class="n">k</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">{</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">" "</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"  "</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="nf">println</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="n">_</span> <span class="k">in</span> <span class="mi">1</span><span class="o">...</span><span class="mf">6*</span><span class="kt">N</span><span class="o">+</span><span class="mi">7</span><span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"-"</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nf">println</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">move</span><span class="p">(</span><span class="nv">a</span><span class="p">:</span> <span class="kt">Character</span><span class="p">,</span> <span class="nv">c</span><span class="p">:</span> <span class="kt">Character</span><span class="p">){</span>
    <span class="k">var</span> <span class="nv">p</span><span class="p">:</span> <span class="kt">Int</span>
    <span class="k">var</span> <span class="nv">i</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">switch</span> <span class="n">a</span><span class="p">{</span>
    <span class="k">case</span> <span class="s">"a"</span><span class="p">:</span>
        <span class="k">while</span> <span class="kt">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">{</span>
            <span class="n">i</span><span class="o">++</span>
        <span class="p">}</span>
        <span class="n">p</span> <span class="o">=</span> <span class="kt">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="kt">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">case</span> <span class="s">"b"</span><span class="p">:</span>
        <span class="k">while</span> <span class="kt">B</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">{</span>
            <span class="n">i</span><span class="o">++</span>
        <span class="p">}</span>
        <span class="n">p</span> <span class="o">=</span> <span class="kt">B</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="kt">B</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">default</span><span class="p">:</span>
        <span class="k">while</span> <span class="kt">C</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">{</span>
            <span class="n">i</span><span class="o">++</span>
        <span class="p">}</span>
        <span class="n">p</span> <span class="o">=</span> <span class="kt">C</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="kt">C</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="p">}</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">switch</span> <span class="n">c</span><span class="p">{</span>
    <span class="k">case</span> <span class="s">"a"</span><span class="p">:</span>
        <span class="k">while</span> <span class="kt">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">{</span>
            <span class="n">i</span><span class="o">++</span>
        <span class="p">}</span>
        <span class="kt">A</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span>
    <span class="k">case</span> <span class="s">"b"</span><span class="p">:</span>
        <span class="k">while</span> <span class="kt">B</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">{</span>
            <span class="n">i</span><span class="o">++</span>
        <span class="p">}</span>
        <span class="kt">B</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span>
    <span class="k">default</span><span class="p">:</span>
        <span class="k">while</span> <span class="kt">C</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">{</span>
            <span class="n">i</span><span class="o">++</span>
        <span class="p">}</span>
        <span class="kt">C</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span>
    <span class="p">}</span>
    <span class="nf">show</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">moveAtoC</span><span class="p">(</span><span class="nv">a</span><span class="p">:</span> <span class="kt">Character</span><span class="p">,</span> <span class="nv">b</span><span class="p">:</span> <span class="kt">Character</span><span class="p">,</span> <span class="nv">c</span><span class="p">:</span> <span class="kt">Character</span><span class="p">,</span> <span class="nv">n</span><span class="p">:</span> <span class="kt">Int</span><span class="p">){</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">1</span><span class="p">{</span>
        <span class="nf">move</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">else</span><span class="p">{</span>
        <span class="nf">moveAtoC</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="nf">move</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
        <span class="nf">moveAtoC</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nf">show</span><span class="p">()</span>
<span class="nf">moveAtoC</span><span class="p">(</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">,</span> <span class="s">"c"</span><span class="p">,</span> <span class="kt">N</span><span class="p">)</span>

</code></pre></div><p>改变N的值，即可得到不同的结果。当N=3时，输出如下：</p><div class="highlighter-rouge"><pre class="highlight"><code>[0]
  -+-       |        |     
 --+--      |        |     
---+---     |        |     
-------------------------
[1]
   |        |        |     
 --+--      |        |     
---+---     |       -+-    
-------------------------
[2]
   |        |        |     
   |        |        |     
---+---   --+--     -+-    
-------------------------
[3]
   |        |        |     
   |       -+-       |     
---+---   --+--      |     
-------------------------
[4]
   |        |        |     
   |       -+-       |     
   |      --+--   ---+---  
-------------------------
[5]
   |        |        |     
   |        |        |     
  -+-     --+--   ---+---  
-------------------------
[6]
   |        |        |     
   |        |      --+--   
  -+-       |     ---+---  
-------------------------
[7]
   |        |       -+-    
   |        |      --+--   
   |        |     ---+---  
-------------------------
</code></pre></div><p>现在还没有感受到Swift在语法方面的一些改变到底有什么用意，内部的东西应该是比较新的技术。</p><p>学到现在，感受到语言的发展跟硬件的发展是想关联的，从最开始学习16位的Pascal，到现在学习64位的Swift，感觉这些语言越来越不拘小节，就比如Array，里面有很多参数，而且还必须是可变长度的。它应该已经不是简单的队列了，现在的新语言恐怕已经不需要自己去写那些简单的数据结构比如链表这样的结构了。</p><div class="divider"></div></article><div class="back"> <a href="/">Back</a></div></main></body></html>